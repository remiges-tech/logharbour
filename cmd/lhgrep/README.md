# lhgrep - LogHarbour Log Filtering Utility

`lhgrep` is a command-line utility for filtering and searching logs generated by LogHarbour. It provides a way to extract relevant information from log files or data coming through standard input.

## Features

- Filter logs based on various criteria such as timestamp, log level, app, module, etc.
- Support for reading logs from a file or standard input
- Flexible query syntax for specifying search conditions
- Integration with Elasticsearch
- Customizable output formatting

## Installation

## Usage
lhgrep [options] [query]


### Options

- `-f, --file <file>`: Read logs from the specified file instead of standard input.
- `-o, --output <format>`: Specify the output format. Available options: `text` (default), `json`.
- `-h, --help`: Display the help message and exit.

### Query Parameters

- `--app <app>`: Filter logs based on the specified application name.
- `--level <level>`: Filter logs based on the specified log level (e.g., `debug`, `info`, `warn`, `error`).
- `--fields <fields>`: Specify the fields to include in the output. Multiple fields can be provided as a comma-separated list (e.g., `timestamp,level,message`).
- `--from <timestamp>`: Filter logs with a timestamp greater than or equal to the specified value (e.g., `2023-06-01T00:00:00Z`).
- `--to <timestamp>`: Filter logs with a timestamp less than or equal to the specified value (e.g., `2023-06-02T00:00:00Z`).
- `--message <pattern>`: Filter logs where the message contains the specified pattern.
- `--module <module>`: Filter logs based on the specified module name.
- `--thread <thread>`: Filter logs based on the specified thread name.
- `--query <query>`: Specify a custom query using the supported query syntax (e.g., `select(.app == "ABC" and .level == "error")`).


### Examples

1. Filter logs from a file:
lhgrep -f app.log "level = 'error'"


2. Filter logs from standard input:
cat app.log | lhgrep "timestamp > '2023-06-01T00:00:00Z' AND app = 'myapp'"


3. Filter logs and output in JSON format:
lhgrep -f app.log -o json --query "module = 'database'"


## Elasticsearch Integration
Future!